{% extends "base.html" %}
{% load static %}
{% block content %}
<style>
  body {
    background: url('/static/image/solid.jpg') no-repeat center center fixed;
    background-size: cover;
    font-family: "Segoe UI", sans-serif;
  }

  .container {
    background: rgba(255, 255, 255, 0.9);
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    max-width: 800px;
    margin: 50px auto;
  }

  h2 {
    text-align: center;
    font-weight: bold;
    color: #0d6efd;
    margin-bottom: 20px;
  }

  .list-group-item {
    background: #f9f9f9;
    border: none;
    margin-bottom: 15px;
    padding: 20px;
    border-radius: 12px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .list-group-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
    background: #ffffff;
  }

  .badge {
    font-size: 0.85rem;
    padding: 6px 10px;
    border-radius: 8px;
  }

  p {
    margin-bottom: 8px;
  }

  a {
    color: #0d6efd;
    text-decoration: none;
    font-weight: bold;
  }

  a:hover {
    text-decoration: underline;
  }
</style>

<div class="container py-5">
  <h2>üöó My Requests</h2>
  {% if requests %}
    <div class="list-group mt-3">
      {% for r in requests %}
        <div class="list-group-item">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1 text-primary">
              {{ r.get_service_type_display }} ({{ r.get_vehicle_type_display }})
            </h5>
            <small class="text-muted">{{ r.created_at|date:"SHORT_DATETIME_FORMAT" }}</small>
          </div>
          <p class="mb-1"><strong>Vehicle:</strong> {{ r.vehicle_details }}</p>
          <p class="mb-1"><strong>üìç Location:</strong> {{ r.location }}</p>
          <small>Status: 
            <span class="badge bg-info text-dark">{{ r.status }}</span>
            {% if r.mechanic %} ‚Ä¢ üë®‚Äçüîß Mechanic: {{ r.mechanic.service_center_name }} {% endif %}
          </small>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="mt-3 text-center">
      You have no requests yet. 
      <a href="{% url 'choose_vehicle' %}">Request help</a>.
    </p>
  {% endif %}
</div>
{% endblock %}
